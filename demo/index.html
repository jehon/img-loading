<!DOCTYPE html>
<html>

<head>
    <title>Demo</title>
    <style>
        jehon-image-loading {
            background-color: #fff;
            background-image: linear-gradient(45deg, #00f 25%, transparent 25%, transparent 75%, #00f 75%), linear-gradient(45deg, #00f 25%, transparent 25%, transparent 75%, #00f 75%);
            background-size: 25px 25px;
            background-position: 0 0, 12.5px 12.5px;
        }
    </style>
</head>

<body>
    Demo of img-loading
    <div style="width:750px; height: 500px; background-color: gray">
        <button id='next'>Next</button>
        <jehon-image-loading src="/waiting/1.jpg">
            </jehon-img-loading>
    </div>

    <script type="module">
        import './jehon-image-loading.js';

        const jil = document.querySelector("jehon-image-loading");

        const images = [
            '/waiting/1.jpg',
            '/waiting/2.jpg',
        ];
        let current = 0;

        function next() {
            current++;
            if (current >= images.length) {
                current = 0;
            }
            const img = images[current] + '?ts=' + new Date();
            console.log(`loading ${current}: ${img}`);
            jil.loadAndDisplayImage(img);
        }

        document.querySelector('#next').addEventListener('click', () => next());
        jil.addEventListener('load', event => {
            console.log("loaded", event.detail);
            // setTimeout(next, 2 * 1000);
        })
    </script>
</body>

</html>